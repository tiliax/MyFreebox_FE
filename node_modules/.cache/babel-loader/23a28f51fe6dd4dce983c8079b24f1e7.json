{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Larix\\\\Documents\\\\Programmieren\\\\ABSCHLUSS\\\\Freebox_final_localhost_neu_03\\\\wbs-final-box-fe\\\\src\\\\components\\\\Karte.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport markerIconPng from \"leaflet/dist/images/marker-icon.png\";\nimport { Icon } from \"leaflet\";\nimport MapSearch from \"./MapSearch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Karte(_ref) {\n  _s();\n\n  let {\n    currentUserBoxes\n  } = _ref;\n  // WBS CAMPUS\n  const latitude = 52.45727522348639;\n  const longitude = 13.540082992085056;\n  const [allBoxes, setAllBoxes] = useState([]);\n\n  const getAllBoxes = async () => {\n    const response = await fetch(\"https://morning-shelf-75082.herokuapp.com/box/findallboxes\");\n    const data = await response.json();\n\n    if (data) {\n      const boxes = []; // eslint-disable-next-line no-restricted-syntax\n\n      for (const user of data) {\n        boxes.push(...user.userBoxes);\n      }\n\n      setAllBoxes(boxes);\n      console.log(boxes);\n    }\n  };\n\n  useEffect(() => {\n    getAllBoxes();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: [latitude, longitude],\n    zoom: 13,\n    zoomControl: false,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), (allBoxes === null || allBoxes === void 0 ? void 0 : allBoxes.length) >= 1 && allBoxes.map(box =>\n    /*#__PURE__*/\n    // eslint-disable-next-line react/jsx-key\n    _jsxDEV(Marker, {\n      position: [box.y, box.x],\n      icon: new Icon({\n        iconUrl: markerIconPng,\n        iconSize: [25, 41],\n        iconAnchor: [12, 41]\n      }),\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        position: [box.y, box.x],\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Location: \", box.boxLocationCity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"See what is inside:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://morning-shelf-75082.herokuapp.com/images/${box.boxImagePath}`,\n            alt: \"boximage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }, this)), currentUserBoxes === null || currentUserBoxes === void 0 ? void 0 : currentUserBoxes.map((item, i) => /*#__PURE__*/_jsxDEV(Marker // eslint-disable-next-line react/no-array-index-key\n    , {\n      position: [item.y, item.x],\n      icon: new Icon({\n        iconUrl: markerIconPng,\n        iconSize: [25, 41],\n        iconAnchor: [12, 41]\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Popup\",\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          position: [item.y, item.x],\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [\"Location: \", item.boxLocationCity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"See what is inside:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `https://morning-shelf-75082.herokuapp.com/images/${item.boxImagePath}`,\n              alt: \"boximage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this)\n    }, `${item.x}/${item.y}-${i}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(MapSearch, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Karte, \"hL7mSelSOP7EWr2GboPZ2hRzAvQ=\");\n\n_c = Karte;\nexport default Karte;\n\nvar _c;\n\n$RefreshReg$(_c, \"Karte\");","map":{"version":3,"names":["useEffect","useState","MapContainer","TileLayer","Marker","Popup","markerIconPng","Icon","MapSearch","Karte","currentUserBoxes","latitude","longitude","allBoxes","setAllBoxes","getAllBoxes","response","fetch","data","json","boxes","user","push","userBoxes","console","log","length","map","box","y","x","iconUrl","iconSize","iconAnchor","boxLocationCity","boxImagePath","item","i"],"sources":["C:/Users/Larix/Documents/Programmieren/ABSCHLUSS/Freebox_final_localhost_neu_03/wbs-final-box-fe/src/components/Karte.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport markerIconPng from \"leaflet/dist/images/marker-icon.png\";\r\nimport { Icon } from \"leaflet\";\r\nimport MapSearch from \"./MapSearch\";\r\n\r\nfunction Karte({ currentUserBoxes }) {\r\n    // WBS CAMPUS\r\n    const latitude = 52.45727522348639;\r\n    const longitude = 13.540082992085056;\r\n    const [allBoxes, setAllBoxes] = useState([]);\r\n\r\n    const getAllBoxes = async () => {\r\n        const response = await fetch(\r\n            \"https://morning-shelf-75082.herokuapp.com/box/findallboxes\",\r\n        );\r\n        const data = await response.json();\r\n        if (data) {\r\n            const boxes = [];\r\n\r\n            // eslint-disable-next-line no-restricted-syntax\r\n            for (const user of data) {\r\n                boxes.push(...user.userBoxes);\r\n            }\r\n\r\n            setAllBoxes(boxes);\r\n            console.log(boxes);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getAllBoxes();\r\n    }, []);\r\n\r\n    return (\r\n        <MapContainer\r\n            center={[latitude, longitude]}\r\n            zoom={13}\r\n            zoomControl={false}\r\n        >\r\n            <TileLayer\r\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            {allBoxes?.length >= 1 &&\r\n                allBoxes.map((box) => (\r\n                    // eslint-disable-next-line react/jsx-key\r\n                    <Marker\r\n                        position={[box.y, box.x]}\r\n                        icon={\r\n                            new Icon({\r\n                                iconUrl: markerIconPng,\r\n                                iconSize: [25, 41],\r\n                                iconAnchor: [12, 41],\r\n                            })\r\n                        }\r\n                    >\r\n                        <Popup position={[box.y, box.x]}>\r\n                            <div>\r\n                                <h1>Location: {box.boxLocationCity}</h1>\r\n                                <h4>See what is inside:</h4>\r\n                                <img\r\n                                    src={`https://morning-shelf-75082.herokuapp.com/images/${box.boxImagePath}`}\r\n                                    alt=\"boximage\"\r\n                                />\r\n                            </div>\r\n                        </Popup>\r\n                    </Marker>\r\n                ))}\r\n\r\n            {currentUserBoxes?.map((item, i) => (\r\n                <Marker\r\n                    // eslint-disable-next-line react/no-array-index-key\r\n                    key={`${item.x}/${item.y}-${i}`}\r\n                    position={[item.y, item.x]}\r\n                    icon={\r\n                        new Icon({\r\n                            iconUrl: markerIconPng,\r\n                            iconSize: [25, 41],\r\n                            iconAnchor: [12, 41],\r\n                        })\r\n                    }\r\n                >\r\n                    <div className=\"Popup\">\r\n                        <Popup position={[item.y, item.x]}>\r\n                            <div>\r\n                                <h1>Location: {item.boxLocationCity}</h1>\r\n                                <h4>See what is inside:</h4>\r\n                                <img\r\n                                    src={`https://morning-shelf-75082.herokuapp.com/images/${item.boxImagePath}`}\r\n                                    alt=\"boximage\"\r\n                                />\r\n                            </div>\r\n                        </Popup>\r\n                    </div>\r\n                </Marker>\r\n            ))}\r\n\r\n            <MapSearch />\r\n        </MapContainer>\r\n    );\r\n}\r\nexport default Karte;\r\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAuD,eAAvD;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,SAASC,IAAT,QAAqB,SAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;;AAEA,SAASC,KAAT,OAAqC;EAAA;;EAAA,IAAtB;IAAEC;EAAF,CAAsB;EACjC;EACA,MAAMC,QAAQ,GAAG,iBAAjB;EACA,MAAMC,SAAS,GAAG,kBAAlB;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMc,WAAW,GAAG,YAAY;IAC5B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACxB,4DADwB,CAA5B;IAGA,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;IACA,IAAID,IAAJ,EAAU;MACN,MAAME,KAAK,GAAG,EAAd,CADM,CAGN;;MACA,KAAK,MAAMC,IAAX,IAAmBH,IAAnB,EAAyB;QACrBE,KAAK,CAACE,IAAN,CAAW,GAAGD,IAAI,CAACE,SAAnB;MACH;;MAEDT,WAAW,CAACM,KAAD,CAAX;MACAI,OAAO,CAACC,GAAR,CAAYL,KAAZ;IACH;EACJ,CAhBD;;EAkBApB,SAAS,CAAC,MAAM;IACZe,WAAW;EACd,CAFQ,EAEN,EAFM,CAAT;EAIA,oBACI,QAAC,YAAD;IACI,MAAM,EAAE,CAACJ,QAAD,EAAWC,SAAX,CADZ;IAEI,IAAI,EAAE,EAFV;IAGI,WAAW,EAAE,KAHjB;IAAA,wBAKI,QAAC,SAAD;MACI,WAAW,EAAC,yFADhB;MAEI,GAAG,EAAC;IAFR;MAAA;MAAA;MAAA;IAAA,QALJ,EASK,CAAAC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEa,MAAV,KAAoB,CAApB,IACGb,QAAQ,CAACc,GAAT,CAAcC,GAAD;IAAA;IACT;IACA,QAAC,MAAD;MACI,QAAQ,EAAE,CAACA,GAAG,CAACC,CAAL,EAAQD,GAAG,CAACE,CAAZ,CADd;MAEI,IAAI,EACA,IAAIvB,IAAJ,CAAS;QACLwB,OAAO,EAAEzB,aADJ;QAEL0B,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CAFL;QAGLC,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL;MAHP,CAAT,CAHR;MAAA,uBAUI,QAAC,KAAD;QAAO,QAAQ,EAAE,CAACL,GAAG,CAACC,CAAL,EAAQD,GAAG,CAACE,CAAZ,CAAjB;QAAA,uBACI;UAAA,wBACI;YAAA,yBAAeF,GAAG,CAACM,eAAnB;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YACI,GAAG,EAAG,oDAAmDN,GAAG,CAACO,YAAa,EAD9E;YAEI,GAAG,EAAC;UAFR;YAAA;YAAA;YAAA;UAAA,QAHJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IAVJ;MAAA;MAAA;MAAA;IAAA,QAFJ,CAVR,EAmCKzB,gBAnCL,aAmCKA,gBAnCL,uBAmCKA,gBAAgB,CAAEiB,GAAlB,CAAsB,CAACS,IAAD,EAAOC,CAAP,kBACnB,QAAC,MAAD,CACI;IADJ;MAGI,QAAQ,EAAE,CAACD,IAAI,CAACP,CAAN,EAASO,IAAI,CAACN,CAAd,CAHd;MAII,IAAI,EACA,IAAIvB,IAAJ,CAAS;QACLwB,OAAO,EAAEzB,aADJ;QAEL0B,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CAFL;QAGLC,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL;MAHP,CAAT,CALR;MAAA,uBAYI;QAAK,SAAS,EAAC,OAAf;QAAA,uBACI,QAAC,KAAD;UAAO,QAAQ,EAAE,CAACG,IAAI,CAACP,CAAN,EAASO,IAAI,CAACN,CAAd,CAAjB;UAAA,uBACI;YAAA,wBACI;cAAA,yBAAeM,IAAI,CAACF,eAApB;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAGI;cACI,GAAG,EAAG,oDAAmDE,IAAI,CAACD,YAAa,EAD/E;cAEI,GAAG,EAAC;YAFR;cAAA;cAAA;cAAA;YAAA,QAHJ;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IAZJ,GAEU,GAAEC,IAAI,CAACN,CAAE,IAAGM,IAAI,CAACP,CAAE,IAAGQ,CAAE,EAFlC;MAAA;MAAA;MAAA;IAAA,QADH,CAnCL,eA+DI,QAAC,SAAD;MAAA;MAAA;MAAA;IAAA,QA/DJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAmEH;;GA/FQ5B,K;;KAAAA,K;AAgGT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}