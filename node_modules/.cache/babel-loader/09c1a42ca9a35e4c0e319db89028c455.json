{"ast":null,"code":"import { Util } from 'leaflet';\nimport { RasterLayer } from './RasterLayer';\nimport { getUrlParams } from '../Util';\nimport mapService from '../Services/MapService';\nexport var DynamicMapLayer = RasterLayer.extend({\n  options: {\n    updateInterval: 150,\n    layers: false,\n    layerDefs: false,\n    timeOptions: false,\n    format: 'png32',\n    transparent: true,\n    f: 'json'\n  },\n  initialize: function (options) {\n    options = getUrlParams(options);\n    this.service = mapService(options);\n    this.service.addEventParent(this);\n    Util.setOptions(this, options);\n  },\n  getDynamicLayers: function () {\n    return this.options.dynamicLayers;\n  },\n  setDynamicLayers: function (dynamicLayers) {\n    this.options.dynamicLayers = dynamicLayers;\n\n    this._update();\n\n    return this;\n  },\n  getLayers: function () {\n    return this.options.layers;\n  },\n  setLayers: function (layers) {\n    this.options.layers = layers;\n\n    this._update();\n\n    return this;\n  },\n  getLayerDefs: function () {\n    return this.options.layerDefs;\n  },\n  setLayerDefs: function (layerDefs) {\n    this.options.layerDefs = layerDefs;\n\n    this._update();\n\n    return this;\n  },\n  getTimeOptions: function () {\n    return this.options.timeOptions;\n  },\n  setTimeOptions: function (timeOptions) {\n    this.options.timeOptions = timeOptions;\n\n    this._update();\n\n    return this;\n  },\n  query: function () {\n    return this.service.query();\n  },\n  identify: function () {\n    return this.service.identify();\n  },\n  find: function () {\n    return this.service.find();\n  },\n  _getPopupData: function (e) {\n    var callback = Util.bind(function (error, featureCollection, response) {\n      if (error) {\n        return;\n      } // we really can't do anything here but authenticate or requesterror will fire\n\n\n      setTimeout(Util.bind(function () {\n        this._renderPopup(e.latlng, error, featureCollection, response);\n      }, this), 300);\n    }, this);\n    var identifyRequest;\n\n    if (this.options.popup) {\n      identifyRequest = this.options.popup.on(this._map).at(e.latlng);\n    } else {\n      identifyRequest = this.identify().on(this._map).at(e.latlng);\n    } // remove extraneous vertices from response features if it has not already been done\n\n\n    if (!identifyRequest.params.maxAllowableOffset) {\n      identifyRequest.simplify(this._map, 0.5);\n    }\n\n    if (!(this.options.popup && this.options.popup.params && this.options.popup.params.layers)) {\n      if (this.options.layers) {\n        identifyRequest.layers('visible:' + this.options.layers.join(','));\n      } else {\n        identifyRequest.layers('visible');\n      }\n    } // if present, pass layer ids and sql filters through to the identify task\n\n\n    if (this.options.layerDefs && typeof this.options.layerDefs !== 'string' && !identifyRequest.params.layerDefs) {\n      for (var id in this.options.layerDefs) {\n        if (Object.prototype.hasOwnProperty.call(this.options.layerDefs, id)) {\n          identifyRequest.layerDef(id, this.options.layerDefs[id]);\n        }\n      }\n    }\n\n    identifyRequest.run(callback); // set the flags to show the popup\n\n    this._shouldRenderPopup = true;\n    this._lastClick = e.latlng;\n  },\n  _buildExportParams: function () {\n    var sr = parseInt(this._map.options.crs.code.split(':')[1], 10);\n    var params = {\n      bbox: this._calculateBbox(),\n      size: this._calculateImageSize(),\n      dpi: 96,\n      format: this.options.format,\n      transparent: this.options.transparent,\n      bboxSR: sr,\n      imageSR: sr\n    };\n\n    if (this.options.dynamicLayers) {\n      params.dynamicLayers = this.options.dynamicLayers;\n    }\n\n    if (this.options.layers) {\n      if (this.options.layers.length === 0) {\n        return;\n      } else {\n        params.layers = 'show:' + this.options.layers.join(',');\n      }\n    }\n\n    if (this.options.layerDefs) {\n      params.layerDefs = typeof this.options.layerDefs === 'string' ? this.options.layerDefs : JSON.stringify(this.options.layerDefs);\n    }\n\n    if (this.options.timeOptions) {\n      params.timeOptions = JSON.stringify(this.options.timeOptions);\n    }\n\n    if (this.options.from && this.options.to) {\n      params.time = this.options.from.valueOf() + ',' + this.options.to.valueOf();\n    }\n\n    if (this.service.options.token) {\n      params.token = this.service.options.token;\n    }\n\n    if (this.options.proxy) {\n      params.proxy = this.options.proxy;\n    } // use a timestamp to bust server cache\n\n\n    if (this.options.disableCache) {\n      params._ts = Date.now();\n    }\n\n    return params;\n  },\n  _requestExport: function (params, bounds) {\n    if (this.options.f === 'json') {\n      this.service.request('export', params, function (error, response) {\n        if (error) {\n          return;\n        } // we really can't do anything here but authenticate or requesterror will fire\n\n\n        if (this.options.token && response.href) {\n          response.href += '?token=' + this.options.token;\n        }\n\n        if (this.options.proxy && response.href) {\n          response.href = this.options.proxy + '?' + response.href;\n        }\n\n        if (response.href) {\n          this._renderImage(response.href, bounds);\n        } else {\n          this._renderImage(response.imageData, bounds, response.contentType);\n        }\n      }, this);\n    } else {\n      params.f = 'image';\n      var fullUrl = this.options.url + 'export' + Util.getParamString(params);\n\n      if (this.options.proxy) {\n        fullUrl = this.options.proxy + '?' + fullUrl;\n      }\n\n      this._renderImage(fullUrl, bounds);\n    }\n  }\n});\nexport function dynamicMapLayer(url, options) {\n  return new DynamicMapLayer(url, options);\n}\nexport default dynamicMapLayer;","map":{"version":3,"names":["Util","RasterLayer","getUrlParams","mapService","DynamicMapLayer","extend","options","updateInterval","layers","layerDefs","timeOptions","format","transparent","f","initialize","service","addEventParent","setOptions","getDynamicLayers","dynamicLayers","setDynamicLayers","_update","getLayers","setLayers","getLayerDefs","setLayerDefs","getTimeOptions","setTimeOptions","query","identify","find","_getPopupData","e","callback","bind","error","featureCollection","response","setTimeout","_renderPopup","latlng","identifyRequest","popup","on","_map","at","params","maxAllowableOffset","simplify","join","id","Object","prototype","hasOwnProperty","call","layerDef","run","_shouldRenderPopup","_lastClick","_buildExportParams","sr","parseInt","crs","code","split","bbox","_calculateBbox","size","_calculateImageSize","dpi","bboxSR","imageSR","length","JSON","stringify","from","to","time","valueOf","token","proxy","disableCache","_ts","Date","now","_requestExport","bounds","request","href","_renderImage","imageData","contentType","fullUrl","url","getParamString","dynamicMapLayer"],"sources":["C:/Users/Larix/Documents/Programmieren/ABSCHLUSS/wbs-final-box-fe/node_modules/esri-leaflet/src/Layers/DynamicMapLayer.js"],"sourcesContent":["import { Util } from 'leaflet';\r\nimport { RasterLayer } from './RasterLayer';\r\nimport { getUrlParams } from '../Util';\r\nimport mapService from '../Services/MapService';\r\n\r\nexport var DynamicMapLayer = RasterLayer.extend({\r\n\r\n  options: {\r\n    updateInterval: 150,\r\n    layers: false,\r\n    layerDefs: false,\r\n    timeOptions: false,\r\n    format: 'png32',\r\n    transparent: true,\r\n    f: 'json'\r\n  },\r\n\r\n  initialize: function (options) {\r\n    options = getUrlParams(options);\r\n    this.service = mapService(options);\r\n    this.service.addEventParent(this);\r\n\r\n    Util.setOptions(this, options);\r\n  },\r\n\r\n  getDynamicLayers: function () {\r\n    return this.options.dynamicLayers;\r\n  },\r\n\r\n  setDynamicLayers: function (dynamicLayers) {\r\n    this.options.dynamicLayers = dynamicLayers;\r\n    this._update();\r\n    return this;\r\n  },\r\n\r\n  getLayers: function () {\r\n    return this.options.layers;\r\n  },\r\n\r\n  setLayers: function (layers) {\r\n    this.options.layers = layers;\r\n    this._update();\r\n    return this;\r\n  },\r\n\r\n  getLayerDefs: function () {\r\n    return this.options.layerDefs;\r\n  },\r\n\r\n  setLayerDefs: function (layerDefs) {\r\n    this.options.layerDefs = layerDefs;\r\n    this._update();\r\n    return this;\r\n  },\r\n\r\n  getTimeOptions: function () {\r\n    return this.options.timeOptions;\r\n  },\r\n\r\n  setTimeOptions: function (timeOptions) {\r\n    this.options.timeOptions = timeOptions;\r\n    this._update();\r\n    return this;\r\n  },\r\n\r\n  query: function () {\r\n    return this.service.query();\r\n  },\r\n\r\n  identify: function () {\r\n    return this.service.identify();\r\n  },\r\n\r\n  find: function () {\r\n    return this.service.find();\r\n  },\r\n\r\n  _getPopupData: function (e) {\r\n    var callback = Util.bind(function (error, featureCollection, response) {\r\n      if (error) { return; } // we really can't do anything here but authenticate or requesterror will fire\r\n      setTimeout(Util.bind(function () {\r\n        this._renderPopup(e.latlng, error, featureCollection, response);\r\n      }, this), 300);\r\n    }, this);\r\n\r\n    var identifyRequest;\r\n    if (this.options.popup) {\r\n      identifyRequest = this.options.popup.on(this._map).at(e.latlng);\r\n    } else {\r\n      identifyRequest = this.identify().on(this._map).at(e.latlng);\r\n    }\r\n\r\n    // remove extraneous vertices from response features if it has not already been done\r\n    if (!identifyRequest.params.maxAllowableOffset) {\r\n      identifyRequest.simplify(this._map, 0.5);\r\n    }\r\n\r\n    if (!(this.options.popup && this.options.popup.params && this.options.popup.params.layers)) {\r\n      if (this.options.layers) {\r\n        identifyRequest.layers('visible:' + this.options.layers.join(','));\r\n      } else {\r\n        identifyRequest.layers('visible');\r\n      }\r\n    }\r\n\r\n    // if present, pass layer ids and sql filters through to the identify task\r\n    if (this.options.layerDefs && typeof this.options.layerDefs !== 'string' && !identifyRequest.params.layerDefs) {\r\n      for (var id in this.options.layerDefs) {\r\n        if (Object.prototype.hasOwnProperty.call(this.options.layerDefs, id)) {\r\n          identifyRequest.layerDef(id, this.options.layerDefs[id]);\r\n        }\r\n      }\r\n    }\r\n\r\n    identifyRequest.run(callback);\r\n\r\n    // set the flags to show the popup\r\n    this._shouldRenderPopup = true;\r\n    this._lastClick = e.latlng;\r\n  },\r\n\r\n  _buildExportParams: function () {\r\n    var sr = parseInt(this._map.options.crs.code.split(':')[1], 10);\r\n\r\n    var params = {\r\n      bbox: this._calculateBbox(),\r\n      size: this._calculateImageSize(),\r\n      dpi: 96,\r\n      format: this.options.format,\r\n      transparent: this.options.transparent,\r\n      bboxSR: sr,\r\n      imageSR: sr\r\n    };\r\n\r\n    if (this.options.dynamicLayers) {\r\n      params.dynamicLayers = this.options.dynamicLayers;\r\n    }\r\n\r\n    if (this.options.layers) {\r\n      if (this.options.layers.length === 0) {\r\n        return;\r\n      } else {\r\n        params.layers = 'show:' + this.options.layers.join(',');\r\n      }\r\n    }\r\n\r\n    if (this.options.layerDefs) {\r\n      params.layerDefs = typeof this.options.layerDefs === 'string' ? this.options.layerDefs : JSON.stringify(this.options.layerDefs);\r\n    }\r\n\r\n    if (this.options.timeOptions) {\r\n      params.timeOptions = JSON.stringify(this.options.timeOptions);\r\n    }\r\n\r\n    if (this.options.from && this.options.to) {\r\n      params.time = this.options.from.valueOf() + ',' + this.options.to.valueOf();\r\n    }\r\n\r\n    if (this.service.options.token) {\r\n      params.token = this.service.options.token;\r\n    }\r\n\r\n    if (this.options.proxy) {\r\n      params.proxy = this.options.proxy;\r\n    }\r\n\r\n    // use a timestamp to bust server cache\r\n    if (this.options.disableCache) {\r\n      params._ts = Date.now();\r\n    }\r\n\r\n    return params;\r\n  },\r\n\r\n  _requestExport: function (params, bounds) {\r\n    if (this.options.f === 'json') {\r\n      this.service.request('export', params, function (error, response) {\r\n        if (error) { return; } // we really can't do anything here but authenticate or requesterror will fire\r\n\r\n        if (this.options.token && response.href) {\r\n          response.href += ('?token=' + this.options.token);\r\n        }\r\n        if (this.options.proxy && response.href) {\r\n          response.href = this.options.proxy + '?' + response.href;\r\n        }\r\n        if (response.href) {\r\n          this._renderImage(response.href, bounds);\r\n        } else {\r\n          this._renderImage(response.imageData, bounds, response.contentType);\r\n        }\r\n      }, this);\r\n    } else {\r\n      params.f = 'image';\r\n      var fullUrl = this.options.url + 'export' + Util.getParamString(params);\r\n      if (this.options.proxy) {\r\n        fullUrl = this.options.proxy + '?' + fullUrl;\r\n      }\r\n      this._renderImage(fullUrl, bounds);\r\n    }\r\n  }\r\n});\r\n\r\nexport function dynamicMapLayer (url, options) {\r\n  return new DynamicMapLayer(url, options);\r\n}\r\n\r\nexport default dynamicMapLayer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}