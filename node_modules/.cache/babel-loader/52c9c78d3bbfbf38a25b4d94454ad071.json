{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _nodentRuntime = require('nodent-runtime');\n\nvar _nodentRuntime2 = _interopRequireDefault(_nodentRuntime);\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _domUtils = require('./domUtils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar SearchElement = function () {\n  function SearchElement() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$handleSubmit = _ref.handleSubmit,\n        handleSubmit = _ref$handleSubmit === undefined ? function () {} : _ref$handleSubmit,\n        _ref$searchLabel = _ref.searchLabel,\n        searchLabel = _ref$searchLabel === undefined ? 'search' : _ref$searchLabel,\n        _ref$classNames = _ref.classNames,\n        classNames = _ref$classNames === undefined ? {} : _ref$classNames;\n\n    _classCallCheck(this, SearchElement);\n\n    var container = (0, _domUtils.createElement)('div', ['geosearch', classNames.container].join(' '));\n    var form = (0, _domUtils.createElement)('form', ['', classNames.form].join(' '), container);\n    var input = (0, _domUtils.createElement)('input', ['glass', classNames.input].join(' '), form);\n    input.type = 'text';\n    input.placeholder = searchLabel;\n    input.addEventListener('input', function (e) {\n      _this.onInput(e);\n    }, false);\n    input.addEventListener('keyup', function (e) {\n      _this.onKeyUp(e);\n    }, false);\n    input.addEventListener('keypress', function (e) {\n      _this.onKeyPress(e);\n    }, false);\n    input.addEventListener('focus', function (e) {\n      _this.onFocus(e);\n    }, false);\n    input.addEventListener('blur', function (e) {\n      _this.onBlur(e);\n    }, false);\n    this.elements = {\n      container: container,\n      form: form,\n      input: input\n    };\n    this.handleSubmit = handleSubmit;\n  }\n\n  _createClass(SearchElement, [{\n    key: 'onFocus',\n    value: function onFocus() {\n      (0, _domUtils.addClassName)(this.elements.form, 'active');\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur() {\n      (0, _domUtils.removeClassName)(this.elements.form, 'active');\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit(event) {\n      return new Promise(function ($return, $error) {\n        var _elements, input, container;\n\n        event.preventDefault();\n        event.stopPropagation();\n        _elements = this.elements, input = _elements.input, container = _elements.container;\n        (0, _domUtils.removeClassName)(container, 'error');\n        (0, _domUtils.addClassName)(container, 'pending');\n        return this.handleSubmit({\n          query: input.value\n        }).then(function ($await_1) {\n          (0, _domUtils.removeClassName)(container, 'pending');\n          return $return();\n        }.$asyncbind(this, $error), $error);\n      }.$asyncbind(this));\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput() {\n      var container = this.elements.container;\n\n      if (this.hasError) {\n        (0, _domUtils.removeClassName)(container, 'error');\n        this.hasError = false;\n      }\n    }\n  }, {\n    key: 'onKeyUp',\n    value: function onKeyUp(event) {\n      var _elements2 = this.elements,\n          container = _elements2.container,\n          input = _elements2.input;\n\n      if (event.keyCode === _constants.ESCAPE_KEY) {\n        (0, _domUtils.removeClassName)(container, 'pending');\n        (0, _domUtils.removeClassName)(container, 'active');\n        input.value = '';\n        document.body.focus();\n        document.body.blur();\n      }\n    }\n  }, {\n    key: 'onKeyPress',\n    value: function onKeyPress(event) {\n      if (event.keyCode === _constants.ENTER_KEY) {\n        this.onSubmit(event);\n      }\n    }\n  }, {\n    key: 'setQuery',\n    value: function setQuery(query) {\n      var input = this.elements.input;\n      input.value = query;\n    }\n  }]);\n\n  return SearchElement;\n}();\n\nexports.default = SearchElement;","map":{"version":3,"names":["Object","defineProperty","exports","value","_nodentRuntime","require","_nodentRuntime2","_interopRequireDefault","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_domUtils","_constants","obj","__esModule","default","_classCallCheck","instance","TypeError","SearchElement","_this","_ref","arguments","undefined","_ref$handleSubmit","handleSubmit","_ref$searchLabel","searchLabel","_ref$classNames","classNames","container","createElement","join","form","input","type","placeholder","addEventListener","e","onInput","onKeyUp","onKeyPress","onFocus","onBlur","elements","addClassName","removeClassName","onSubmit","event","Promise","$return","$error","_elements","preventDefault","stopPropagation","query","then","$await_1","$asyncbind","hasError","_elements2","keyCode","ESCAPE_KEY","document","body","focus","blur","ENTER_KEY","setQuery"],"sources":["C:/Users/Larix/Documents/Programmieren/ABSCHLUSS/wbs-final-box-fe/node_modules/leaflet-geosearch/lib/searchElement.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _nodentRuntime = require('nodent-runtime');\n\nvar _nodentRuntime2 = _interopRequireDefault(_nodentRuntime);\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _domUtils = require('./domUtils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SearchElement = function () {\n  function SearchElement() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$handleSubmit = _ref.handleSubmit,\n        handleSubmit = _ref$handleSubmit === undefined ? function () {} : _ref$handleSubmit,\n        _ref$searchLabel = _ref.searchLabel,\n        searchLabel = _ref$searchLabel === undefined ? 'search' : _ref$searchLabel,\n        _ref$classNames = _ref.classNames,\n        classNames = _ref$classNames === undefined ? {} : _ref$classNames;\n\n    _classCallCheck(this, SearchElement);\n\n    var container = (0, _domUtils.createElement)('div', ['geosearch', classNames.container].join(' '));\n    var form = (0, _domUtils.createElement)('form', ['', classNames.form].join(' '), container);\n    var input = (0, _domUtils.createElement)('input', ['glass', classNames.input].join(' '), form);\n\n    input.type = 'text';\n    input.placeholder = searchLabel;\n\n    input.addEventListener('input', function (e) {\n      _this.onInput(e);\n    }, false);\n    input.addEventListener('keyup', function (e) {\n      _this.onKeyUp(e);\n    }, false);\n    input.addEventListener('keypress', function (e) {\n      _this.onKeyPress(e);\n    }, false);\n    input.addEventListener('focus', function (e) {\n      _this.onFocus(e);\n    }, false);\n    input.addEventListener('blur', function (e) {\n      _this.onBlur(e);\n    }, false);\n\n    this.elements = { container: container, form: form, input: input };\n    this.handleSubmit = handleSubmit;\n  }\n\n  _createClass(SearchElement, [{\n    key: 'onFocus',\n    value: function onFocus() {\n      (0, _domUtils.addClassName)(this.elements.form, 'active');\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur() {\n      (0, _domUtils.removeClassName)(this.elements.form, 'active');\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit(event) {\n      return new Promise(function ($return, $error) {\n        var _elements, input, container;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        _elements = this.elements, input = _elements.input, container = _elements.container;\n\n        (0, _domUtils.removeClassName)(container, 'error');\n        (0, _domUtils.addClassName)(container, 'pending');\n\n        return this.handleSubmit({ query: input.value }).then(function ($await_1) {\n          (0, _domUtils.removeClassName)(container, 'pending');\n          return $return();\n        }.$asyncbind(this, $error), $error);\n      }.$asyncbind(this));\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput() {\n      var container = this.elements.container;\n\n\n      if (this.hasError) {\n        (0, _domUtils.removeClassName)(container, 'error');\n        this.hasError = false;\n      }\n    }\n  }, {\n    key: 'onKeyUp',\n    value: function onKeyUp(event) {\n      var _elements2 = this.elements,\n          container = _elements2.container,\n          input = _elements2.input;\n\n\n      if (event.keyCode === _constants.ESCAPE_KEY) {\n        (0, _domUtils.removeClassName)(container, 'pending');\n        (0, _domUtils.removeClassName)(container, 'active');\n\n        input.value = '';\n\n        document.body.focus();\n        document.body.blur();\n      }\n    }\n  }, {\n    key: 'onKeyPress',\n    value: function onKeyPress(event) {\n      if (event.keyCode === _constants.ENTER_KEY) {\n        this.onSubmit(event);\n      }\n    }\n  }, {\n    key: 'setQuery',\n    value: function setQuery(query) {\n      var input = this.elements.input;\n\n      input.value = query;\n    }\n  }]);\n\n  return SearchElement;\n}();\n\nexports.default = SearchElement;"],"mappings":"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"},"metadata":{},"sourceType":"script"}