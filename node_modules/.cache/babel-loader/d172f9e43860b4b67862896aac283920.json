{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Larix\\\\Documents\\\\Programmieren\\\\ABSCHLUSS\\\\Freebox_final_localhost_neu_03\\\\wbs-final-box-fe\\\\src\\\\components\\\\navbar-components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { ModalHeader } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    userLogin,\n    handleUserLoginClose,\n    setCurrentUser\n  } = _ref;\n  const [loginData, setLoginData] = useState({\n    loginUsername: \"\",\n    loginPassword: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n\n  const handleLoginChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLoginData(prevData => {\n      return { ...prevData,\n        [name]: value\n      };\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n\n  const handleLoginSend = async () => {\n    setLoading(prev => !prev);\n    setTimeout(async () => {\n      const response = await fetch( // \"https://morning-shelf-75082.herokuapp.com/box/login\",\n      \"https://localhost/box/login\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"application/json; charset=utf-8\"\n        },\n        body: JSON.stringify(loginData)\n      });\n      const data = await response.json();\n\n      if (data.success) {\n        localStorage.setItem(\"token\", data.token);\n        setCurrentUser(data.data);\n        handleUserLoginClose();\n      }\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: userLogin,\n    onHide: handleUserLoginClose,\n    backdrop: \"true\",\n    fade: \"true\",\n    centered: \"true\",\n    children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"classic-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"signup_username\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter username\",\n            name: \"loginUsername\",\n            value: loginData.loginUsername,\n            onChange: handleLoginChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"signup_password\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Enter Password\",\n            name: \"loginPassword\",\n            value: loginData.loginPassword,\n            onChange: handleLoginChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleLoginSend,\n          type: \"submit\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"QjUtc/5opclkj/3ASbpnrLv7HlY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Modal","Form","Button","ModalHeader","useState","Login","userLogin","handleUserLoginClose","setCurrentUser","loginData","setLoginData","loginUsername","loginPassword","loading","setLoading","handleLoginChange","e","name","value","target","prevData","handleSubmit","preventDefault","handleLoginSend","prev","setTimeout","response","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","data","json","success","setItem","token"],"sources":["C:/Users/Larix/Documents/Programmieren/ABSCHLUSS/Freebox_final_localhost_neu_03/wbs-final-box-fe/src/components/navbar-components/Login.js"],"sourcesContent":["import Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { ModalHeader } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\n\r\nconst Login = ({ userLogin, handleUserLoginClose, setCurrentUser }) => {\r\n    const [loginData, setLoginData] = useState({\r\n        loginUsername: \"\",\r\n        loginPassword: \"\",\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleLoginChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setLoginData((prevData) => {\r\n            return {\r\n                ...prevData,\r\n                [name]: value,\r\n            };\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const handleLoginSend = async () => {\r\n        setLoading((prev) => !prev);\r\n        setTimeout(async () => {\r\n            const response = await fetch(\r\n                // \"https://morning-shelf-75082.herokuapp.com/box/login\",\r\n                \"https://localhost/box/login\",\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        Authorization: `Bearer ${localStorage.getItem(\r\n                            \"token\",\r\n                        )}`,\r\n\r\n                        \"Content-Type\": \"application/json; charset=utf-8\",\r\n                    },\r\n                    body: JSON.stringify(loginData),\r\n                },\r\n            );\r\n            const data = await response.json();\r\n            if (data.success) {\r\n                localStorage.setItem(\"token\", data.token);\r\n                setCurrentUser(data.data);\r\n                handleUserLoginClose();\r\n            }\r\n        }, 1000);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            show={userLogin}\r\n            onHide={handleUserLoginClose}\r\n            backdrop=\"true\"\r\n            fade=\"true\"\r\n            centered=\"true\"\r\n        >\r\n            <ModalHeader closeButton>\r\n                <Modal.Title>Log in</Modal.Title>\r\n            </ModalHeader>\r\n            <Modal.Body>\r\n                {loading ? (\r\n                    <div className=\"classic-2\" />\r\n                ) : (\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group\r\n                            className=\"mb-3\"\r\n                            controlId=\"signup_username\"\r\n                        >\r\n                            <Form.Label>Username</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Enter username\"\r\n                                name=\"loginUsername\"\r\n                                value={loginData.loginUsername}\r\n                                onChange={handleLoginChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group\r\n                            className=\"mb-3\"\r\n                            controlId=\"signup_password\"\r\n                        >\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Enter Password\"\r\n                                name=\"loginPassword\"\r\n                                value={loginData.loginPassword}\r\n                                onChange={handleLoginChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Button onClick={handleLoginSend} type=\"submit\">\r\n                            Send\r\n                        </Button>\r\n                    </Form>\r\n                )}\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}