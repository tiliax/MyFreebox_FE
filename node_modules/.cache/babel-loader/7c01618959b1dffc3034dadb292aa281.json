{"ast":null,"code":"import { Path, Util, GeoJSON, latLng } from 'leaflet';\nimport { FeatureManager } from './FeatureManager';\nimport { warn } from '../../Util';\nexport var FeatureLayer = FeatureManager.extend({\n  options: {\n    cacheLayers: true\n  },\n\n  /**\r\n   * Constructor\r\n   */\n  initialize: function (options) {\n    if (options.apikey) {\n      options.token = options.apikey;\n    }\n\n    FeatureManager.prototype.initialize.call(this, options);\n    this._originalStyle = this.options.style;\n    this._layers = {};\n  },\n\n  /**\r\n   * Layer Interface\r\n   */\n  onRemove: function (map) {\n    for (var i in this._layers) {\n      map.removeLayer(this._layers[i]); // trigger the event when the entire featureLayer is removed from the map\n\n      this.fire('removefeature', {\n        feature: this._layers[i].feature,\n        permanent: false\n      }, true);\n    }\n\n    return FeatureManager.prototype.onRemove.call(this, map);\n  },\n  createNewLayer: function (geojson) {\n    var layer = GeoJSON.geometryToLayer(geojson, this.options); // trap for GeoJSON without geometry\n\n    if (layer) {\n      layer.defaultOptions = layer.options;\n    }\n\n    return layer;\n  },\n  _updateLayer: function (layer, geojson) {\n    // convert the geojson coordinates into a Leaflet LatLng array/nested arrays\n    // pass it to setLatLngs to update layer geometries\n    var latlngs = [];\n    var coordsToLatLng = this.options.coordsToLatLng || GeoJSON.coordsToLatLng; // copy new attributes, if present\n\n    if (geojson.properties) {\n      layer.feature.properties = geojson.properties;\n    }\n\n    switch (geojson.geometry.type) {\n      case 'Point':\n        latlngs = GeoJSON.coordsToLatLng(geojson.geometry.coordinates);\n        layer.setLatLng(latlngs);\n        break;\n\n      case 'LineString':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 0, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n\n      case 'MultiLineString':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 1, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n\n      case 'Polygon':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 1, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n\n      case 'MultiPolygon':\n        latlngs = GeoJSON.coordsToLatLngs(geojson.geometry.coordinates, 2, coordsToLatLng);\n        layer.setLatLngs(latlngs);\n        break;\n    } // update symbol/style\n\n\n    this.redraw(layer.feature.id);\n  },\n\n  /**\r\n   * Feature Management Methods\r\n   */\n  createLayers: function (features) {\n    for (var i = features.length - 1; i >= 0; i--) {\n      var geojson = features[i];\n      var layer = this._layers[geojson.id];\n      var newLayer;\n\n      if (this._visibleZoom() && layer && !this._map.hasLayer(layer) && (!this.options.timeField || this._featureWithinTimeRange(geojson))) {\n        this._map.addLayer(layer);\n\n        this.fire('addfeature', {\n          feature: layer.feature\n        }, true);\n      } // update geometry if the layer already existed.\n\n\n      if (layer && (layer.setLatLngs || layer.setLatLng)) {\n        this._updateLayer(layer, geojson);\n      }\n\n      if (!layer) {\n        newLayer = this.createNewLayer(geojson);\n\n        if (!newLayer) {\n          warn('invalid GeoJSON encountered');\n        } else {\n          newLayer.feature = geojson; // bubble events from individual layers to the feature layer\n\n          newLayer.addEventParent(this);\n\n          if (this.options.onEachFeature) {\n            this.options.onEachFeature(newLayer.feature, newLayer);\n          } // cache the layer\n\n\n          this._layers[newLayer.feature.id] = newLayer; // style the layer\n\n          this.setFeatureStyle(newLayer.feature.id, this.options.style);\n          this.fire('createfeature', {\n            feature: newLayer.feature\n          }, true); // add the layer if the current zoom level is inside the range defined for the layer, it is within the current time bounds or our layer is not time enabled\n\n          if (this._visibleZoom() && (!this.options.timeField || this.options.timeField && this._featureWithinTimeRange(geojson))) {\n            this._map.addLayer(newLayer);\n          }\n        }\n      }\n    }\n  },\n  addLayers: function (ids) {\n    for (var i = ids.length - 1; i >= 0; i--) {\n      var layer = this._layers[ids[i]];\n\n      if (layer && (!this.options.timeField || this._featureWithinTimeRange(layer.feature))) {\n        this._map.addLayer(layer);\n\n        this.fire('addfeature', {\n          feature: layer.feature\n        }, true);\n      }\n    }\n  },\n  removeLayers: function (ids, permanent) {\n    for (var i = ids.length - 1; i >= 0; i--) {\n      var id = ids[i];\n      var layer = this._layers[id];\n\n      if (layer) {\n        this.fire('removefeature', {\n          feature: layer.feature,\n          permanent: permanent\n        }, true);\n\n        this._map.removeLayer(layer);\n      }\n\n      if (layer && permanent) {\n        delete this._layers[id];\n      }\n    }\n  },\n  cellEnter: function (bounds, coords) {\n    if (this._visibleZoom() && !this._zooming && this._map) {\n      Util.requestAnimFrame(Util.bind(function () {\n        var cacheKey = this._cacheKey(coords);\n\n        var cellKey = this._cellCoordsToKey(coords);\n\n        var layers = this._cache[cacheKey];\n\n        if (this._activeCells[cellKey] && layers) {\n          this.addLayers(layers);\n        }\n      }, this));\n    }\n  },\n  cellLeave: function (bounds, coords) {\n    if (!this._zooming) {\n      Util.requestAnimFrame(Util.bind(function () {\n        if (this._map) {\n          var cacheKey = this._cacheKey(coords);\n\n          var cellKey = this._cellCoordsToKey(coords);\n\n          var layers = this._cache[cacheKey];\n\n          var mapBounds = this._map.getBounds();\n\n          if (!this._activeCells[cellKey] && layers) {\n            var removable = true;\n\n            for (var i = 0; i < layers.length; i++) {\n              var layer = this._layers[layers[i]];\n\n              if (layer && layer.getBounds && mapBounds.intersects(layer.getBounds())) {\n                removable = false;\n              }\n            }\n\n            if (removable) {\n              this.removeLayers(layers, !this.options.cacheLayers);\n            }\n\n            if (!this.options.cacheLayers && removable) {\n              delete this._cache[cacheKey];\n              delete this._cells[cellKey];\n              delete this._activeCells[cellKey];\n            }\n          }\n        }\n      }, this));\n    }\n  },\n\n  /**\r\n   * Styling Methods\r\n   */\n  resetStyle: function () {\n    this.options.style = this._originalStyle;\n    this.eachFeature(function (layer) {\n      this.resetFeatureStyle(layer.feature.id);\n    }, this);\n    return this;\n  },\n  setStyle: function (style) {\n    this.options.style = style;\n    this.eachFeature(function (layer) {\n      this.setFeatureStyle(layer.feature.id, style);\n    }, this);\n    return this;\n  },\n  resetFeatureStyle: function (id) {\n    var layer = this._layers[id];\n    var style = this._originalStyle || Path.prototype.options;\n\n    if (layer) {\n      Util.extend(layer.options, layer.defaultOptions);\n      this.setFeatureStyle(id, style);\n    }\n\n    return this;\n  },\n  setFeatureStyle: function (id, style) {\n    var layer = this._layers[id];\n\n    if (typeof style === 'function') {\n      style = style(layer.feature);\n    }\n\n    if (layer.setStyle) {\n      layer.setStyle(style);\n    }\n\n    return this;\n  },\n\n  /**\r\n   * Utility Methods\r\n   */\n  eachActiveFeature: function (fn, context) {\n    // figure out (roughly) which layers are in view\n    if (this._map) {\n      var activeBounds = this._map.getBounds();\n\n      for (var i in this._layers) {\n        if (this._currentSnapshot.indexOf(this._layers[i].feature.id) !== -1) {\n          // a simple point in poly test for point geometries\n          if (typeof this._layers[i].getLatLng === 'function' && activeBounds.contains(this._layers[i].getLatLng())) {\n            fn.call(context, this._layers[i]);\n          } else if (typeof this._layers[i].getBounds === 'function' && activeBounds.intersects(this._layers[i].getBounds())) {\n            // intersecting bounds check for polyline and polygon geometries\n            fn.call(context, this._layers[i]);\n          }\n        }\n      }\n    }\n\n    return this;\n  },\n  eachFeature: function (fn, context) {\n    for (var i in this._layers) {\n      fn.call(context, this._layers[i]);\n    }\n\n    return this;\n  },\n  getFeature: function (id) {\n    return this._layers[id];\n  },\n  bringToBack: function () {\n    this.eachFeature(function (layer) {\n      if (layer.bringToBack) {\n        layer.bringToBack();\n      }\n    });\n  },\n  bringToFront: function () {\n    this.eachFeature(function (layer) {\n      if (layer.bringToFront) {\n        layer.bringToFront();\n      }\n    });\n  },\n  redraw: function (id) {\n    if (id) {\n      this._redraw(id);\n    }\n\n    return this;\n  },\n  _redraw: function (id) {\n    var layer = this._layers[id];\n    var geojson = layer.feature; // if this looks like a marker\n\n    if (layer && layer.setIcon && this.options.pointToLayer) {\n      // update custom symbology, if necessary\n      if (this.options.pointToLayer) {\n        var getIcon = this.options.pointToLayer(geojson, latLng(geojson.geometry.coordinates[1], geojson.geometry.coordinates[0]));\n        var updatedIcon = getIcon.options.icon;\n        layer.setIcon(updatedIcon);\n      }\n    } // looks like a vector marker (circleMarker)\n\n\n    if (layer && layer.setStyle && this.options.pointToLayer) {\n      var getStyle = this.options.pointToLayer(geojson, latLng(geojson.geometry.coordinates[1], geojson.geometry.coordinates[0]));\n      var updatedStyle = getStyle.options;\n      this.setFeatureStyle(geojson.id, updatedStyle);\n    } // looks like a path (polygon/polyline)\n\n\n    if (layer && layer.setStyle && this.options.style) {\n      this.resetStyle(geojson.id);\n    }\n  }\n});\nexport function featureLayer(options) {\n  return new FeatureLayer(options);\n}\nexport default featureLayer;","map":{"version":3,"names":["Path","Util","GeoJSON","latLng","FeatureManager","warn","FeatureLayer","extend","options","cacheLayers","initialize","apikey","token","prototype","call","_originalStyle","style","_layers","onRemove","map","i","removeLayer","fire","feature","permanent","createNewLayer","geojson","layer","geometryToLayer","defaultOptions","_updateLayer","latlngs","coordsToLatLng","properties","geometry","type","coordinates","setLatLng","coordsToLatLngs","setLatLngs","redraw","id","createLayers","features","length","newLayer","_visibleZoom","_map","hasLayer","timeField","_featureWithinTimeRange","addLayer","addEventParent","onEachFeature","setFeatureStyle","addLayers","ids","removeLayers","cellEnter","bounds","coords","_zooming","requestAnimFrame","bind","cacheKey","_cacheKey","cellKey","_cellCoordsToKey","layers","_cache","_activeCells","cellLeave","mapBounds","getBounds","removable","intersects","_cells","resetStyle","eachFeature","resetFeatureStyle","setStyle","eachActiveFeature","fn","context","activeBounds","_currentSnapshot","indexOf","getLatLng","contains","getFeature","bringToBack","bringToFront","_redraw","setIcon","pointToLayer","getIcon","updatedIcon","icon","getStyle","updatedStyle","featureLayer"],"sources":["C:/Users/Larix/Documents/Programmieren/ABSCHLUSS/wbs-final-box-fe/node_modules/esri-leaflet/src/Layers/FeatureLayer/FeatureLayer.js"],"sourcesContent":["import { Path, Util, GeoJSON, latLng } from 'leaflet';\r\nimport { FeatureManager } from './FeatureManager';\r\nimport { warn } from '../../Util';\r\n\r\nexport var FeatureLayer = FeatureManager.extend({\r\n  options: {\r\n    cacheLayers: true\r\n  },\r\n\r\n  /**\r\n   * Constructor\r\n   */\r\n  initialize: function (options) {\r\n    if (options.apikey) {\r\n      options.token = options.apikey;\r\n    }\r\n    FeatureManager.prototype.initialize.call(this, options);\r\n    this._originalStyle = this.options.style;\r\n    this._layers = {};\r\n  },\r\n\r\n  /**\r\n   * Layer Interface\r\n   */\r\n\r\n  onRemove: function (map) {\r\n    for (var i in this._layers) {\r\n      map.removeLayer(this._layers[i]);\r\n      // trigger the event when the entire featureLayer is removed from the map\r\n      this.fire(\r\n        'removefeature',\r\n        {\r\n          feature: this._layers[i].feature,\r\n          permanent: false\r\n        },\r\n        true\r\n      );\r\n    }\r\n\r\n    return FeatureManager.prototype.onRemove.call(this, map);\r\n  },\r\n\r\n  createNewLayer: function (geojson) {\r\n    var layer = GeoJSON.geometryToLayer(geojson, this.options);\r\n    // trap for GeoJSON without geometry\r\n    if (layer) {\r\n      layer.defaultOptions = layer.options;\r\n    }\r\n    return layer;\r\n  },\r\n\r\n  _updateLayer: function (layer, geojson) {\r\n    // convert the geojson coordinates into a Leaflet LatLng array/nested arrays\r\n    // pass it to setLatLngs to update layer geometries\r\n    var latlngs = [];\r\n    var coordsToLatLng = this.options.coordsToLatLng || GeoJSON.coordsToLatLng;\r\n\r\n    // copy new attributes, if present\r\n    if (geojson.properties) {\r\n      layer.feature.properties = geojson.properties;\r\n    }\r\n\r\n    switch (geojson.geometry.type) {\r\n      case 'Point':\r\n        latlngs = GeoJSON.coordsToLatLng(geojson.geometry.coordinates);\r\n        layer.setLatLng(latlngs);\r\n        break;\r\n      case 'LineString':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          0,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n      case 'MultiLineString':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          1,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n      case 'Polygon':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          1,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n      case 'MultiPolygon':\r\n        latlngs = GeoJSON.coordsToLatLngs(\r\n          geojson.geometry.coordinates,\r\n          2,\r\n          coordsToLatLng\r\n        );\r\n        layer.setLatLngs(latlngs);\r\n        break;\r\n    }\r\n\r\n    // update symbol/style\r\n    this.redraw(layer.feature.id);\r\n  },\r\n\r\n  /**\r\n   * Feature Management Methods\r\n   */\r\n\r\n  createLayers: function (features) {\r\n    for (var i = features.length - 1; i >= 0; i--) {\r\n      var geojson = features[i];\r\n\r\n      var layer = this._layers[geojson.id];\r\n      var newLayer;\r\n\r\n      if (\r\n        this._visibleZoom() &&\r\n        layer &&\r\n        !this._map.hasLayer(layer) &&\r\n        (!this.options.timeField || this._featureWithinTimeRange(geojson))\r\n      ) {\r\n        this._map.addLayer(layer);\r\n        this.fire(\r\n          'addfeature',\r\n          {\r\n            feature: layer.feature\r\n          },\r\n          true\r\n        );\r\n      }\r\n\r\n      // update geometry if the layer already existed.\r\n      if (layer && (layer.setLatLngs || layer.setLatLng)) {\r\n        this._updateLayer(layer, geojson);\r\n      }\r\n\r\n      if (!layer) {\r\n        newLayer = this.createNewLayer(geojson);\r\n\r\n        if (!newLayer) {\r\n          warn('invalid GeoJSON encountered');\r\n        } else {\r\n          newLayer.feature = geojson;\r\n\r\n          // bubble events from individual layers to the feature layer\r\n          newLayer.addEventParent(this);\r\n\r\n          if (this.options.onEachFeature) {\r\n            this.options.onEachFeature(newLayer.feature, newLayer);\r\n          }\r\n\r\n          // cache the layer\r\n          this._layers[newLayer.feature.id] = newLayer;\r\n\r\n          // style the layer\r\n          this.setFeatureStyle(newLayer.feature.id, this.options.style);\r\n\r\n          this.fire(\r\n            'createfeature',\r\n            {\r\n              feature: newLayer.feature\r\n            },\r\n            true\r\n          );\r\n\r\n          // add the layer if the current zoom level is inside the range defined for the layer, it is within the current time bounds or our layer is not time enabled\r\n          if (\r\n            this._visibleZoom() &&\r\n            (!this.options.timeField ||\r\n              (this.options.timeField && this._featureWithinTimeRange(geojson)))\r\n          ) {\r\n            this._map.addLayer(newLayer);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  addLayers: function (ids) {\r\n    for (var i = ids.length - 1; i >= 0; i--) {\r\n      var layer = this._layers[ids[i]];\r\n      if (\r\n        layer &&\r\n        (!this.options.timeField || this._featureWithinTimeRange(layer.feature))\r\n      ) {\r\n        this._map.addLayer(layer);\r\n        this.fire(\r\n          'addfeature',\r\n          {\r\n            feature: layer.feature\r\n          },\r\n          true\r\n        );\r\n      }\r\n    }\r\n  },\r\n\r\n  removeLayers: function (ids, permanent) {\r\n    for (var i = ids.length - 1; i >= 0; i--) {\r\n      var id = ids[i];\r\n      var layer = this._layers[id];\r\n      if (layer) {\r\n        this.fire(\r\n          'removefeature',\r\n          {\r\n            feature: layer.feature,\r\n            permanent: permanent\r\n          },\r\n          true\r\n        );\r\n        this._map.removeLayer(layer);\r\n      }\r\n      if (layer && permanent) {\r\n        delete this._layers[id];\r\n      }\r\n    }\r\n  },\r\n\r\n  cellEnter: function (bounds, coords) {\r\n    if (this._visibleZoom() && !this._zooming && this._map) {\r\n      Util.requestAnimFrame(\r\n        Util.bind(function () {\r\n          var cacheKey = this._cacheKey(coords);\r\n          var cellKey = this._cellCoordsToKey(coords);\r\n          var layers = this._cache[cacheKey];\r\n          if (this._activeCells[cellKey] && layers) {\r\n            this.addLayers(layers);\r\n          }\r\n        }, this)\r\n      );\r\n    }\r\n  },\r\n\r\n  cellLeave: function (bounds, coords) {\r\n    if (!this._zooming) {\r\n      Util.requestAnimFrame(\r\n        Util.bind(function () {\r\n          if (this._map) {\r\n            var cacheKey = this._cacheKey(coords);\r\n            var cellKey = this._cellCoordsToKey(coords);\r\n            var layers = this._cache[cacheKey];\r\n            var mapBounds = this._map.getBounds();\r\n            if (!this._activeCells[cellKey] && layers) {\r\n              var removable = true;\r\n\r\n              for (var i = 0; i < layers.length; i++) {\r\n                var layer = this._layers[layers[i]];\r\n                if (\r\n                  layer &&\r\n                  layer.getBounds &&\r\n                  mapBounds.intersects(layer.getBounds())\r\n                ) {\r\n                  removable = false;\r\n                }\r\n              }\r\n\r\n              if (removable) {\r\n                this.removeLayers(layers, !this.options.cacheLayers);\r\n              }\r\n\r\n              if (!this.options.cacheLayers && removable) {\r\n                delete this._cache[cacheKey];\r\n                delete this._cells[cellKey];\r\n                delete this._activeCells[cellKey];\r\n              }\r\n            }\r\n          }\r\n        }, this)\r\n      );\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Styling Methods\r\n   */\r\n\r\n  resetStyle: function () {\r\n    this.options.style = this._originalStyle;\r\n    this.eachFeature(function (layer) {\r\n      this.resetFeatureStyle(layer.feature.id);\r\n    }, this);\r\n    return this;\r\n  },\r\n\r\n  setStyle: function (style) {\r\n    this.options.style = style;\r\n    this.eachFeature(function (layer) {\r\n      this.setFeatureStyle(layer.feature.id, style);\r\n    }, this);\r\n    return this;\r\n  },\r\n\r\n  resetFeatureStyle: function (id) {\r\n    var layer = this._layers[id];\r\n    var style = this._originalStyle || Path.prototype.options;\r\n    if (layer) {\r\n      Util.extend(layer.options, layer.defaultOptions);\r\n      this.setFeatureStyle(id, style);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  setFeatureStyle: function (id, style) {\r\n    var layer = this._layers[id];\r\n    if (typeof style === 'function') {\r\n      style = style(layer.feature);\r\n    }\r\n    if (layer.setStyle) {\r\n      layer.setStyle(style);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Utility Methods\r\n   */\r\n\r\n  eachActiveFeature: function (fn, context) {\r\n    // figure out (roughly) which layers are in view\r\n    if (this._map) {\r\n      var activeBounds = this._map.getBounds();\r\n      for (var i in this._layers) {\r\n        if (this._currentSnapshot.indexOf(this._layers[i].feature.id) !== -1) {\r\n          // a simple point in poly test for point geometries\r\n          if (\r\n            typeof this._layers[i].getLatLng === 'function' &&\r\n            activeBounds.contains(this._layers[i].getLatLng())\r\n          ) {\r\n            fn.call(context, this._layers[i]);\r\n          } else if (\r\n            typeof this._layers[i].getBounds === 'function' &&\r\n            activeBounds.intersects(this._layers[i].getBounds())\r\n          ) {\r\n            // intersecting bounds check for polyline and polygon geometries\r\n            fn.call(context, this._layers[i]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n\r\n  eachFeature: function (fn, context) {\r\n    for (var i in this._layers) {\r\n      fn.call(context, this._layers[i]);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  getFeature: function (id) {\r\n    return this._layers[id];\r\n  },\r\n\r\n  bringToBack: function () {\r\n    this.eachFeature(function (layer) {\r\n      if (layer.bringToBack) {\r\n        layer.bringToBack();\r\n      }\r\n    });\r\n  },\r\n\r\n  bringToFront: function () {\r\n    this.eachFeature(function (layer) {\r\n      if (layer.bringToFront) {\r\n        layer.bringToFront();\r\n      }\r\n    });\r\n  },\r\n\r\n  redraw: function (id) {\r\n    if (id) {\r\n      this._redraw(id);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  _redraw: function (id) {\r\n    var layer = this._layers[id];\r\n    var geojson = layer.feature;\r\n\r\n    // if this looks like a marker\r\n    if (layer && layer.setIcon && this.options.pointToLayer) {\r\n      // update custom symbology, if necessary\r\n      if (this.options.pointToLayer) {\r\n        var getIcon = this.options.pointToLayer(\r\n          geojson,\r\n          latLng(\r\n            geojson.geometry.coordinates[1],\r\n            geojson.geometry.coordinates[0]\r\n          )\r\n        );\r\n        var updatedIcon = getIcon.options.icon;\r\n        layer.setIcon(updatedIcon);\r\n      }\r\n    }\r\n\r\n    // looks like a vector marker (circleMarker)\r\n    if (layer && layer.setStyle && this.options.pointToLayer) {\r\n      var getStyle = this.options.pointToLayer(\r\n        geojson,\r\n        latLng(geojson.geometry.coordinates[1], geojson.geometry.coordinates[0])\r\n      );\r\n      var updatedStyle = getStyle.options;\r\n      this.setFeatureStyle(geojson.id, updatedStyle);\r\n    }\r\n\r\n    // looks like a path (polygon/polyline)\r\n    if (layer && layer.setStyle && this.options.style) {\r\n      this.resetStyle(geojson.id);\r\n    }\r\n  }\r\n});\r\n\r\nexport function featureLayer (options) {\r\n  return new FeatureLayer(options);\r\n}\r\n\r\nexport default featureLayer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}